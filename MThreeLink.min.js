function MThree(domsArr,option){this.select1=document.querySelector(domsArr[0]),this.select2=document.querySelector(domsArr[1]),domsArr[2]&&""!==domsArr[2]&&(this.select3=document.querySelector(domsArr[2])),this.opts=Object.assign({data:"",classIdLabel:"code",classTextLabel:"name",classChildsLabel:"childs"},option),this.defaultOpt='<option value="">请选择</option>',this.childrenData=[],this.grandsonData=[],this.init()}MThree.prototype.init=function(){let datas=this.opts.data,options=this.defaultOpt;if(datas.length>0){for(let i=0;i<datas.length;i++)options+=`<option value="${datas[i][this.opts.classIdLabel]}">${datas[i][this.opts.classTextLabel]}</option>`;this.select1.innerHTML=options}else this.select1.innerHTML=this.defaultOpt;this.select2.innerHTML=this.defaultOpt,$(this.select1).selectpicker("refresh").selectpicker("val",""),$(this.select2).selectpicker("refresh").selectpicker("val",""),this.select3&&(this.select3.innerHTML=this.defaultOpt,$(this.select3).selectpicker("refresh").selectpicker("val","")),this.change()},MThree.prototype.change=function(){this.select1.addEventListener("change",()=>{let data=this.opts.data;for(let i=0;i<data.length;i++)data[i].code==this.select1.value&&(this.childrenData=data[i][this.opts.classChildsLabel]);this.twoOpt=this.threeOpt=this.defaultOpt;for(let i=0;i<this.childrenData.length;i++)this.twoOpt+=`<option value="${this.childrenData[i][this.opts.classIdLabel]}">${this.childrenData[i][this.opts.classTextLabel]}</option>`;this.select2.innerHTML=this.twoOpt,$(this.select2).selectpicker("refresh").selectpicker("val",""),this.select3&&(this.select3.innerHTML=this.threeOpt,$(this.select3).selectpicker("refresh").selectpicker("val",""))}),this.select3&&this.select2.addEventListener("change",()=>{this.threeOpt=this.defaultOpt;for(let i=0;i<this.childrenData.length;i++)if(this.select2.value==this.childrenData[i][this.opts.classIdLabel]){let childs=this.childrenData[i][this.opts.classChildsLabel]?this.childrenData[i][this.opts.classChildsLabel]:[];for(let j=0;j<childs.length;j++)this.threeOpt+=`<option value="${childs[j][this.opts.classIdLabel]}">${childs[j][this.opts.classTextLabel]}</option>`}this.select3.innerHTML=this.threeOpt,$(this.select3).selectpicker("refresh").selectpicker("val","")})};